<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Next主题</title>
    <url>/2024/10/05/hello-world/</url>
    <content><![CDATA[<h2 id="指路Next入门教程"><a href="#指路Next入门教程" class="headerlink" title="指路Next入门教程"></a><a href="https://hexo-next.readthedocs.io/zh-cn/latest/next/">指路Next入门教程</a></h2>]]></content>
      <categories>
        <category>Hexo-Next</category>
      </categories>
      <tags>
        <tag>Beautify</tag>
      </tags>
  </entry>
  <entry>
    <title>Crenshaw</title>
    <url>/2024/10/26/Crenshaw/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>compiler impletment learn from Jack W. Crenshaw</title>
    <url>/2024/10/26/compiler-impletment-learn-from-Jack-W-Crenshaw/</url>
    <content><![CDATA[<h1 id="阶段1-Single-Num-expression"><a href="#阶段1-Single-Num-expression" class="headerlink" title="阶段1 Single Num expression"></a>阶段1 Single Num expression</h1><h2 id="只含”-“的二元表达式"><a href="#只含”-“的二元表达式" class="headerlink" title="只含”+-“的二元表达式"></a>只含”+-“的二元表达式</h2><blockquote>
<p>expr::&#x3D; term&lt;+-term&gt;<br>term::&#x3D;GetNum</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure Expression;</span><br><span class="line">begin</span><br><span class="line">    Term;&#123;MOVE #GetNum,D0;&#125;</span><br><span class="line">    EmitLn(&#x27;MOVE D0,D1&#x27;);</span><br><span class="line">    case Look of</span><br><span class="line">    &#x27;+&#x27;: Add;&#123;Match(&#x27;+&#x27;);Term;ADD D1,D0;结果存在D0&#125;</span><br><span class="line">    &#x27;-&#x27;: Substract;&#123;Match(&#x27;-&#x27;);Term;SUB D1,D0;NEG D0;结果存在D0&#125;</span><br><span class="line">    else Expected(&#x27;加减操作符&#x27;);</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<h2 id="多个操作数"><a href="#多个操作数" class="headerlink" title="多个操作数"></a>多个操作数</h2><p>循环解决,将数压栈解决寄存器有限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure Expression;</span><br><span class="line">begin</span><br><span class="line">    Term;&#123;MOVE #GetNum,D0;&#125;</span><br><span class="line">    while Look in [&#x27;+&#x27;,&#x27;-&#x27;] do begin</span><br><span class="line">        EmitLn(&#x27;MOVE D0,-(SP)&#x27;);&#123;D1=D0;&#125;</span><br><span class="line">        case Look of</span><br><span class="line">        &#x27;+&#x27;: Add;&#123;Match(&#x27;+&#x27;);Term; ADD (SP)+,D0;&#125;</span><br><span class="line">        &#x27;-&#x27;: Substract;&#123;Match(&#x27;-&#x27;);Term; SUB -(SP),D0; NEG D0 ;&#125;</span><br><span class="line">        else Expected(&#x27;加减操作符&#x27;);</span><br><span class="line">        end;</span><br><span class="line">    end;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<h2 id="增加”-“"><a href="#增加”-“" class="headerlink" title="增加”*&#x2F;“"></a>增加”*&#x2F;“</h2><p>优先级高，单位更小</p>
<blockquote>
<p>expr::&#x3D; term &lt;+- term&gt;<br>term::&#x3D; factor &lt;*&#x2F; factor&gt;<br>factor::&#x3D; GetNum</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure Expression;</span><br><span class="line">begin</span><br><span class="line">    Term;</span><br><span class="line">    while Look in [&#x27;+&#x27;,&#x27;-&#x27;] do begin</span><br><span class="line">        EmitLn(&#x27;MOVE D0,-(SP)&#x27;);&#123;压栈&#125;</span><br><span class="line">        case Look of</span><br><span class="line">        &#x27;+&#x27;: Add;&#123;Match(&#x27;+&#x27;);Term; ADD (SP)+,D0;&#125;</span><br><span class="line">        &#x27;-&#x27;: Substract;&#123;Match(&#x27;-&#x27;);Term; SUB (SP)-,D0; NEG D0;&#125;</span><br><span class="line">        else Expected(&#x27;加减操作符&#x27;);</span><br><span class="line">        end;</span><br><span class="line">    end;</span><br><span class="line">end;</span><br><span class="line"></span><br><span class="line">procedure Term;</span><br><span class="line">begin</span><br><span class="line">    Factor;&#123;GetNum;&#125;</span><br><span class="line">    while Look in [&#x27;*&#x27;,&#x27;/&#x27;] do begin</span><br><span class="line">        case Look of</span><br><span class="line">        &#x27;*&#x27;: Multiply;&#123;Match(&#x27;*&#x27;);Factor;MUL (SP)+,D0;&#125;</span><br><span class="line">        &#x27;/&#x27;: Divide;</span><br><span class="line">        else Expected(&#x27;乘除操作符&#x27;);</span><br><span class="line">    end;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<h2 id="增加”-”"><a href="#增加”-”" class="headerlink" title="增加”()”"></a>增加”()”</h2><p>递归</p>
<blockquote>
<p>factor ::&#x3D; (expr) or GetNum</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure Factor;</span><br><span class="line">begin</span><br><span class="line">    if Look =&#x27;(&#x27; than begin</span><br><span class="line">        Match(&#x27;(&#x27;);</span><br><span class="line">        Expression;</span><br><span class="line">        Match(&#x27;)&#x27;);</span><br><span class="line">    end</span><br><span class="line">    else</span><br><span class="line">        GetNum;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>

<h2 id="增加”-作为正负号的数”"><a href="#增加”-作为正负号的数”" class="headerlink" title="增加”-+作为正负号的数”"></a>增加”-+作为正负号的数”</h2><p>增加0-</p>
<blockquote>
<p>expr::&#x3D;- or term&lt;+-term&gt;</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure Expression;</span><br><span class="line">begin</span><br><span class="line">    if Look in [&#x27;+&#x27;,&#x27;-&#x27;] do</span><br><span class="line">        EmitLn(&#x27;CLR D0&#x27;);&#123;D0=0;&#125;</span><br><span class="line">    else</span><br><span class="line">        term;</span><br><span class="line">    while Look in [&#x27;+&#x27;,&#x27;-&#x27;] do begin</span><br><span class="line">        EmitLn(&#x27;MOVE D0,-(SP)&#x27;);&#123;压栈&#125;</span><br><span class="line">        case Look of</span><br><span class="line">        &#x27;+&#x27;: Add;&#123;Match(&#x27;+&#x27;);Term; ADD (SP)+,D0;&#125;</span><br><span class="line">        &#x27;-&#x27;: Substract;&#123;Match(&#x27;-&#x27;);Term; SUB (SP)-,D0; NEG D0;&#125;</span><br><span class="line">        else Expected(&#x27;加减操作符&#x27;);</span><br><span class="line">        end;</span><br><span class="line">    end;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Compiler</category>
      </categories>
      <tags>
        <tag>turbo pascal</tag>
        <tag>68000 Assembly</tag>
        <tag>Jack W. Crenshaw</tag>
        <tag>compiler</tag>
      </tags>
  </entry>
</search>
